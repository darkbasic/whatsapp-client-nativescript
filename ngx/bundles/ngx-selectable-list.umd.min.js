!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core"],t):t(e["ngx-selectable-list"]={},e.ng.core)}(this,function(e,t){"use strict";var i=function(){return function(){this.selecting=!1,this.selectedItemIds=[],this.single=new t.EventEmitter,this.multiple=new t.EventEmitter,this.mode=s.single,this.clearSelection=new t.EventEmitter}}(),s={single:"Single",multiple_tap:"Multiple (tap activated)",multiple_press:"Multiple (press activated)",both:"Single and multiple (press activated)"},n=new i,r=function(){function e(e,i,n,r,c){var l=this;this.el=e,this.renderer=i,this.view=n,this.resolver=r,this.selectableListService=c,this.isSelecting=new t.EventEmitter,this.single=new t.EventEmitter,this.multiple=new t.EventEmitter,this.selectableListService.selecting=!1,this.selectableListService.selectedItemIds=[],this.selectableListService.single=new t.EventEmitter,this.selectableListService.multiple=new t.EventEmitter,this.selectableListService.mode=s.single,this.singleSubscription=this.selectableListService.single.subscribe(function(e){return l.single.emit(e)}),this.multipleSubscription=this.selectableListService.multiple.subscribe(function(e){return l.selectItem(e)})}return Object.defineProperty(e.prototype,"mode",{set:function(e){this.selectableListService.mode=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selecting",{get:function(){return this.selectableListService.selecting},set:function(e){this.selectableListService.selecting=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemIds",{get:function(){return this.selectableListService.selectedItemIds},set:function(e){this.selectableListService.selectedItemIds=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appSelectableList",{set:function(e){e in s&&(this.mode=s[e])},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.selectionConfirmed&&(this.selectionConfirmedSubscription=this.selectionConfirmed.subscribe(function(){return e.confirmSelection()}))},e.prototype.ngOnDestroy=function(){this.singleSubscription.unsubscribe(),this.multipleSubscription.unsubscribe(),this.clickListenerFn&&this.clickListenerFn(),this.selectionConfirmedSubscription&&this.selectionConfirmedSubscription.unsubscribe()},e.prototype.selectItem=function(e){this.selectedItemIds.find(function(t){return t===e})?this.selectedItemIds=this.selectedItemIds.filter(function(t){return t!==e}):this.selectedItemIds=this.selectedItemIds.concat(e),this.selecting!==!!this.selectedItemIds.length&&(this.selecting=!!this.selectedItemIds.length,this.isSelecting.emit(this.selecting))},e.prototype.confirmSelection=function(){var e=this;this.selectedItemIds.length&&(this.multiple.emit(this.selectedItemIds.filter(function(t){return e.items.find(function(e){return e.id===t})})),this.selectableListService.clearSelection.emit(this.selectedItemIds),this.selectedItemIds=[],this.selecting=!1,this.isSelecting.emit(!1))},e}();r.decorators=[{type:t.Directive,args:[{selector:"[appSelectableList]",providers:[{provide:"selectable-list-service",useValue:n}]}]}],r.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2},{type:t.ViewContainerRef},{type:t.ComponentFactoryResolver},{type:i,decorators:[{type:t.Inject,args:["selectable-list-service"]}]}]},r.propDecorators={selectionConfirmed:[{type:t.Input}],appSelectableList:[{type:t.Input}],items:[{type:t.Input}],isSelecting:[{type:t.Output}],single:[{type:t.Output}],multiple:[{type:t.Output}],confirmButton:[{type:t.ContentChild,args:["confirmSelection",{read:t.ElementRef}]}]};var c=function(){function e(e,t,i){var s=this;this.el=e,this.renderer=t,this.selectableListService=i,this.clearSelectionSubscription=this.selectableListService.clearSelection.subscribe(function(e){e.find(function(e){return e===s.item.id})&&s.switchBackground()})}return Object.defineProperty(e.prototype,"mode",{get:function(){return this.selectableListService.mode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){var e=this;return!!this.selectableListService.selectedItemIds.find(function(t){return t===e.item.id})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selecting",{get:function(){return this.selectableListService.selecting},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){this.clearSelectionSubscription.unsubscribe()},e.prototype.onTap=function(){console.log("tap"),this.handleEvent("tap")},e.prototype.onPress=function(){console.log("longPress"),this.handleEvent("press")},e.prototype.handleEvent=function(e){switch(this.mode){case s.single:this.dispatchEvent("single");break;case s.multiple_tap:this.switchBackground(),this.dispatchEvent("multiple");break;case s.multiple_press:(this.selecting||"press"===e)&&(this.switchBackground(),this.dispatchEvent("multiple"));break;case s.both:this.selecting||"press"===e?(this.switchBackground(),this.dispatchEvent("multiple")):"tap"===e&&this.dispatchEvent("single")}},e.prototype.switchBackground=function(){this.isSelected=!this.selected},e.prototype.dispatchEvent=function(e){this.selectableListService[e].emit(this.item.id)},e}();c.decorators=[{type:t.Directive,args:[{selector:"[appSelectableItem]"}]}],c.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2},{type:i,decorators:[{type:t.Inject,args:["selectable-list-service"]}]}]},c.propDecorators={itemContainer:[{type:t.ContentChild,args:["item",{read:t.ElementRef}]}],isSelected:[{type:t.HostBinding,args:["class.selected"]}],item:[{type:t.Input}],onTap:[{type:t.HostListener,args:["tap"]}],onPress:[{type:t.HostListener,args:["longPress"]}]};var l=function(){return function(){}}();l.decorators=[{type:t.NgModule,args:[{declarations:[c,r],exports:[c,r]}]}],l.ctorParameters=function(){return[]},e.SelectableListDirective=r,e.SelectableListModule=l,e.ɵc=c,e.ɵb=n,e.ɵa=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-selectable-list.umd.min.js.map
